<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Docker配置RocketMQ</title>
      <link href="/2024/04/02/RocketMQ/"/>
      <url>/2024/04/02/RocketMQ/</url>
      
        <content type="html"><![CDATA[<h1 id="Docker配置RocketMQ"><a href="#Docker配置RocketMQ" class="headerlink" title="Docker配置RocketMQ"></a>Docker配置RocketMQ</h1><p><strong>1、拉取RocketMQ镜像</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull foxiswho/rocketmq:broker-4.5.1</span><br></pre></td></tr></table></figure><p><strong>2、启动注册中心Nameserver</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 9876:9876 --name rmqserver foxiswho/rocketmq:server-4.5.1</span><br></pre></td></tr></table></figure><p><strong>3、创建RocketMQ配置文件</strong></p><p><img src="image-20240411235840559.png" alt="image-20240411235840559" style="zoom: 50%;" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//或者本地创建后上传到云主机上，路径可以根据自己设定</span><br><span class="line">vim /usr/local/roketmq/conf/broker.conf</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">brokerIP1 = 填写你的云主机ip</span><br><span class="line">brokerClusterName = DefaultCluster</span><br><span class="line">brokerName = broker-a</span><br><span class="line">brokerId = 0</span><br><span class="line">deleteWhen = 04</span><br><span class="line">fileReservedTime = 48</span><br><span class="line">brokerRole = ASYNC_MASTER</span><br><span class="line">flushDiskType = ASYNC_FLUSH</span><br><span class="line">enablePropertyFilter=true</span><br></pre></td></tr></table></figure><p><strong>4、启动RocketMQ</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 10911:10911 -p 10909:10909 --name rmqbroker --link rmqserver:namesrv -e &quot;NAMESRV_ADDR=namesrv:9876&quot; -e &quot;JAVA_OPTS=-Duser.home=/opt&quot; -e &quot;JAVA_OPT_EXT=-server -Xms128m -Xmx128m&quot; -v  /usr/local/rocketmq/conf/broker.conf:/etc/rocketmq/broker.conf foxiswho/rocketmq:broker-4.5.1</span><br></pre></td></tr></table></figure><p><strong>5、拉取RocketMQ-dashboard镜像</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull pangliang/rocketmq-console-ng</span><br></pre></td></tr></table></figure><p><strong>6、启动dashboard</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name rmqconsole -p 8180:8080 --link rmqserver:namesrv -e &quot;JAVA_OPTS=-Drocketmq.namesrv.addr=namesrv:9876 -Dcom.rocketmq.sendMessageWithVIPChannel=false&quot;  -t pangliang/rocketmq-console-ng</span><br></pre></td></tr></table></figure><p><strong>7、dashboard中添加topic</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://xxx.xxx.xxx.xxx:8180</span><br></pre></td></tr></table></figure><p><strong>8、检查</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//检查服务运行状况</span><br><span class="line">docker ps -a</span><br></pre></td></tr></table></figure><p><img src="image-20240412000329429.png" alt="image-20240412000329429"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//检查服务运行是否成功、依次检查Nameserver、RocketMQ、RocketMQ-dashboard（暂不演示）</span><br><span class="line">docker logs -CONTAINER ID</span><br></pre></td></tr></table></figure><p><img src="image-20240412000517073.png" alt="image-20240412000517073"></p><p><img src="image-20240412000735422.png" alt="image-20240412000735422"></p><p><img src="image-20240412001315222.png" alt="image-20240412001315222" style="zoom:33%;" /></p><p><img src="image-20240412001331680.png" alt="image-20240412001331680" style="zoom: 33%;" /></p><p><img src="image-20240412001355627.png" alt="image-20240412001355627" style="zoom:33%;" /></p><p>参考链接</p><hr><p><a href="https://www.cnblogs.com/d1012181765/p/15603378.html">https://www.cnblogs.com/d1012181765/p/15603378.html</a></p><p><a href="https://blog.csdn.net/qq_45297578/article/details/128723168">https://blog.csdn.net/qq_45297578/article/details/128723168</a></p>]]></content>
      
      
      <categories>
          
          <category> docker </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Docker配置MySQL集群</title>
      <link href="/2024/04/01/Docker%E9%85%8D%E7%BD%AEMySQL%E9%9B%86%E7%BE%A4/"/>
      <url>/2024/04/01/Docker%E9%85%8D%E7%BD%AEMySQL%E9%9B%86%E7%BE%A4/</url>
      
        <content type="html"><![CDATA[<h1 id="Docker配置MySQL集群"><a href="#Docker配置MySQL集群" class="headerlink" title="Docker配置MySQL集群"></a>Docker配置MySQL集群</h1><h2 id="1、安装MySQL集群PXC镜像"><a href="#1、安装MySQL集群PXC镜像" class="headerlink" title="1、安装MySQL集群PXC镜像"></a><strong>1、安装MySQL集群PXC镜像</strong></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull percona/percona-xtradb-cluster:5.7</span><br></pre></td></tr></table></figure><h2 id="2、创建docker内部网段"><a href="#2、创建docker内部网段" class="headerlink" title="2、创建docker内部网段"></a><strong>2、创建docker内部网段</strong></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network create pxc-network</span><br></pre></td></tr></table></figure><h2 id="3、创建数据卷"><a href="#3、创建数据卷" class="headerlink" title="3、创建数据卷"></a><strong>3、创建数据卷</strong></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//对应五节点集群方案</span><br><span class="line">docker volume create v1</span><br><span class="line">docker volume create v2</span><br><span class="line">docker volume create v3</span><br><span class="line">docker volume create v4</span><br><span class="line">docker volume create v5</span><br></pre></td></tr></table></figure><h2 id="4、创建容器并运行"><a href="#4、创建容器并运行" class="headerlink" title="4、创建容器并运行"></a><strong>4、创建容器并运行</strong></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//替换自己的mysql密码</span><br><span class="line">docker run -d -p 3306:3306 -e MYSQL_ROOT_PASSWORD=你设定的mysql密码 -e CLUSTER_NAME=cluster1 -v v1:/var/lib/mysql --name=node1 --net=pxc-network percona/percona-xtradb-cluster:5.7</span><br><span class="line"></span><br><span class="line">//主节点启动后经测试链接正常后，再创建其以下节点</span><br><span class="line">docker run -d -p 3307:3306 -e MYSQL_ROOT_PASSWORD=你设定的mysql密码 -e CLUSTER_NAME=cluster1 -e CLUSTER_JOIN=node1 -v v2:/var/lib/mysql --name=node2 --net=pxc-network \percona/percona-xtradb-cluster:5.7</span><br><span class="line"></span><br><span class="line">docker run -d -p 3308:3306 -e MYSQL_ROOT_PASSWORD=你设定的mysql密码 -e CLUSTER_NAME=cluster1 -e CLUSTER_JOIN=node1 -v v3:/var/lib/mysql --name=node3 --net=pxc-network \percona/percona-xtradb-cluster:5.7</span><br><span class="line"></span><br><span class="line">docker run -d -p 3309:3306 -e MYSQL_ROOT_PASSWORD=你设定的mysql密码 -e CLUSTER_NAME=cluster1 -e CLUSTER_JOIN=node1 -v </span><br><span class="line">v4:/var/lib/mysql --name=node4 --net=pxc-network \percona/percona-xtradb-cluster:5.7</span><br><span class="line"></span><br><span class="line">docker run -d -p 3310:3306 -e MYSQL_ROOT_PASSWORD=你设定的mysql密码 -e CLUSTER_NAME=cluster1 -e CLUSTER_JOIN=node1 -v v5:/var/lib/mysql --name=node5 --net=pxc-network \percona/percona-xtradb-cluster:5.7</span><br></pre></td></tr></table></figure><h2 id="5、云服务器安全组端口开放"><a href="#5、云服务器安全组端口开放" class="headerlink" title="5、云服务器安全组端口开放"></a><strong>5、云服务器安全组端口开放</strong></h2><p><img src="image-20240412132606413.png" alt="image-20240412132606413" style="zoom:33%;" /></p><h2 id="6、检查运行情况"><a href="#6、检查运行情况" class="headerlink" title="6、检查运行情况"></a><strong>6、检查运行情况</strong></h2><h3 id="6-1-检查容器内运行情况"><a href="#6-1-检查容器内运行情况" class="headerlink" title="6.1 检查容器内运行情况"></a>6.1 检查容器内运行情况</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br></pre></td></tr></table></figure><p><img src="image-20240412133313368.png" alt="image-20240412133313368"></p><h3 id="6-2-检查数据库链接情况"><a href="#6-2-检查数据库链接情况" class="headerlink" title="6.2 检查数据库链接情况"></a>6.2 检查数据库链接情况</h3><p><img src="image-20240412133514624.png" alt="image-20240412133514624" style="zoom: 50%;" /></p>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo加载公式问题</title>
      <link href="/2023/05/09/hexo%E5%8A%A0%E8%BD%BD%E5%85%AC%E5%BC%8F%E9%97%AE%E9%A2%98/"/>
      <url>/2023/05/09/hexo%E5%8A%A0%E8%BD%BD%E5%85%AC%E5%BC%8F%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/yexiaohhjk/article/details/82526604">配置方法参考</a></p><p>配置后正常显示公式</p><p><img src="image-20230509153716208.png" alt="image-20230509153716208"></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo命令操作</title>
      <link href="/2023/05/09/hexo%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C/"/>
      <url>/2023/05/09/hexo%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<p><code>hexo new post &quot; &quot;</code>：创建一篇博客</p><p><code>hexo cl</code>：清理public文件夹</p><p><code>hexo g</code>：生成public文件夹</p><p><code>hexo s</code>：启动博客</p><p><code>hexo deploy</code>：本地修改同步至远端</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo加载图片问题</title>
      <link href="/2023/05/09/hexo%E5%8A%A0%E8%BD%BD%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98/"/>
      <url>/2023/05/09/hexo%E5%8A%A0%E8%BD%BD%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p><a href="https://zhuanlan.zhihu.com/p/476601594">配置方法参考</a></p><p><strong>1、配置图像根目录</strong></p><p><img src="image-20230509151512393.png" alt="image-20230509151512393" style="zoom:50%;" /></p><p><strong>2、删除图像名前面的斜杠</strong></p><p><img src="image-20230509151638033.png" alt="image-20230509151638033" style="zoom:67%;" /></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
